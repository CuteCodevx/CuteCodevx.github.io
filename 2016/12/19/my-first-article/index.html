<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>my first article | Hexo</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="node.js概念node里的全局对象global        顶层对象，类似window
    在nodejs里定义的全局变量并不是global身上的属性，它是当前模块下的属性
process        进程对象，对当前运行程序的进程进行访问和控制
node里的全局函数setTimeout()
clearTimeout()
setInterval()
clearInterval()
re">
<meta property="og:type" content="article">
<meta property="og:title" content="my first article">
<meta property="og:url" content="http://yoursite.com/2016/12/19/my-first-article/index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:description" content="node.js概念node里的全局对象global        顶层对象，类似window
    在nodejs里定义的全局变量并不是global身上的属性，它是当前模块下的属性
process        进程对象，对当前运行程序的进程进行访问和控制
node里的全局函数setTimeout()
clearTimeout()
setInterval()
clearInterval()
re">
<meta property="og:updated_time" content="2017-02-21T07:23:48.903Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="my first article">
<meta name="twitter:description" content="node.js概念node里的全局对象global        顶层对象，类似window
    在nodejs里定义的全局变量并不是global身上的属性，它是当前模块下的属性
process        进程对象，对当前运行程序的进程进行访问和控制
node里的全局函数setTimeout()
clearTimeout()
setInterval()
clearInterval()
re">
  
    <link rel="alternate" href="/atom.xml" title="Hexo" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/css/style.css">
  

</head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Hexo</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Zoeken"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" results="0" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://yoursite.com"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main"><article id="post-my-first-article" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2016/12/19/my-first-article/" class="article-date">
  <time datetime="2016-12-19T13:32:41.000Z" itemprop="datePublished">2016-12-19</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      my first article
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="node-js概念"><a href="#node-js概念" class="headerlink" title="node.js概念"></a>node.js概念</h1><h4 id="node里的全局对象"><a href="#node里的全局对象" class="headerlink" title="node里的全局对象"></a>node里的全局对象</h4><pre><code>global        顶层对象，类似window
    在nodejs里定义的全局变量并不是global身上的属性，它是当前模块下的属性
process        进程对象，对当前运行程序的进程进行访问和控制
</code></pre><h4 id="node里的全局函数"><a href="#node里的全局函数" class="headerlink" title="node里的全局函数"></a>node里的全局函数</h4><pre><code>setTimeout()
clearTimeout()
setInterval()
clearInterval()
require()            加载模块
Buffer()            操作二进制数据
</code></pre><h4 id="node里的全局变量"><a href="#node里的全局变量" class="headerlink" title="node里的全局变量"></a>node里的全局变量</h4><pre><code>__filename            当前文件的路径 指向当前运行脚本的文件名 每个模块都有这个属性
__dirname            当前文件夹的路径 指向当前运行脚本所在的目录 每个模块都有这个属性
</code></pre><h3 id="node模块"><a href="#node模块" class="headerlink" title="node模块"></a>node模块</h3><p>模块与文件是一一对应关系，即加载一个模块，实际上就是加载对应的一个模块文件*</p>
<h2 id="核心模块"><a href="#核心模块" class="headerlink" title="核心模块"></a>核心模块</h2><pre><code>http         提供HTTP服务器功能
url             解析URL
fs             操作文件的功能
querystring  解析URL的查询字符串。
</code></pre><h2 id="自定义模块"><a href="#自定义模块" class="headerlink" title="自定义模块"></a>自定义模块</h2><pre><code>符合CommonJS规范：每个文件就是一个模块，有自己的作用域。在一个文件里面定义的变量、函数、类，都是私有的，对其他文件不可见。
</code></pre><h4 id="模块加载方法"><a href="#模块加载方法" class="headerlink" title="模块加载方法"></a>模块加载方法</h4><pre><code> require(文件路径)  `eg:var http=require(&apos;http&apos;)`;
     文件路径：
         1. 可以为相对路径也可以用绝对路径
         2. 路径前面要加个./如果不加的话它会加载nodejs里的核心模块

模块加载机制
 1. 首先按文件名进行查找（不带后缀名）
 2. 如果没有找到，会在文件名后面加一个.js的后缀，再次查找
 3. 如果没有找到，会在文件名后面加一个.json的后缀，再次查找
4. 如果没有找到，会在文件名后面加一个.node的后缀，再次查找
 5. 如果没有找到，报错

 文件名 -&gt; .js -&gt; .json -&gt; .node
</code></pre><h4 id="模块的作用域"><a href="#模块的作用域" class="headerlink" title="模块的作用域"></a>模块的作用域</h4><pre><code>访问其它模块变量的方法
     1. 把变量作为global对象的一个属性(不推荐，它是一个全局变量)
     2. 把变量定义在module.exports上
    模块内module变量代表当前模块。它是一个对象，它有一个exports属性是对外的接口。加载某个模块，其实是加载该模块的module.exports属性
</code></pre><p><em>exports对象与module.exports指得是同一个对象</em></p>
<pre><code>module.id 模块的识别符，通常是带有绝对路径的模块文件名
module.filename 模块的文件名，带有绝对路径。
module.loaded 返回一个布尔值，表示模块是否已经完成加载。
module.parent 返回一个对象，表示调用该模块的模块。
module.children 返回一个数组，表示该模块要用到的其他模块。
module.exports 表示模块对外输出的值。
</code></pre><h2 id="文件模块"><a href="#文件模块" class="headerlink" title="文件模块"></a>文件模块</h2><h5 id="读取文件"><a href="#读取文件" class="headerlink" title="读取文件"></a>读取文件</h5><pre><code>异步 fs.readFile(path,callBack)
    callBack        回调函数
         参数1（err）
            null：读取文件成功
             对象：读取文件失败，对象里放的是错误信息
         参数2（buffer）
            当读取文件失败的时候为undefined，成功的时候为一个Buffer对象调用toString()方法可以把二进制转成字符串
同步 fs.readFileSync(path,char)
    char            编码(如果省略的话返回一个Buffer对象)
    有返回值 var result=fs.readFileSync(path,char)
</code></pre><h5 id="写文件"><a href="#写文件" class="headerlink" title="写文件"></a>写文件</h5><p><em>如果原来的文件存在，内容就会被替换，而不是添加。如果文件不存在，它会新建一个文件</em></p>
<pre><code>异步 fs.wirteFile(path,data,options,callBack)
    data            写入的数据，可以是字符串也可以是Buffer对象
    options        可选参数，可以设置文件的编码
    callBack        回调函数
        参数（err）
            null：写入内容成功
同步 fs.wirteFileSync(path,data,options)
    无返回值 `var result=fs.readFileSync(path,char) //undefined`
</code></pre><h5 id="给文件追加内容"><a href="#给文件追加内容" class="headerlink" title="给文件追加内容"></a>给文件追加内容</h5><p><em>如果文件不存在会创建一个文件</em></p>
<pre><code>异步 fs.appendFile(path,data,options,callBack)
同步 fs,appendFileSync(path,data,options)
    无返回值 `var result=fs.readFileSync(path,char) //undefined`
</code></pre><h5 id="判断文件是否存在"><a href="#判断文件是否存在" class="headerlink" title="判断文件是否存在"></a>判断文件是否存在</h5><pre><code>异步 fs.exists(path,callback)
    callBack
        参数(boolean)
            true  文件存在
            false 文件不存在
同步 fs.existsSync(path)
    有返回值(返回值为布尔值，表示文件是否存在)
</code></pre><h5 id="删除文件"><a href="#删除文件" class="headerlink" title="删除文件"></a>删除文件</h5><pre><code>异步 fs.unlink(path,callBack)
    callback        回调函数
        参数（err）    
             null        删除文件成功
             对象        删除文件不成功，对象里放的是错误信息
同步 fs.unlinkSync(path);
    无返回值
</code></pre><h5 id="重命名文件"><a href="#重命名文件" class="headerlink" title="重命名文件"></a>重命名文件</h5><pre><code>异步 fs.rename(oldPath,newPath,callBack)
    oldPath            被命名的文件
      newPath            要命成的名字
    callBack            回调函数
        参数（err）    
            null        命名成功
            对象        命名不成功，对象里放的是错误信息
同步 fs.renameSync(oldPath,newPath)
    无返回值
</code></pre><h5 id="获取文件相关信息"><a href="#获取文件相关信息" class="headerlink" title="获取文件相关信息"></a>获取文件相关信息</h5><pre><code>异步 fs.stat(path,callBack)
     callBack        回调函数
        参数（err）    
            null       读取成功
             对象          读取失败，对象里放的是错误信息
        参数（mes）  读取成功的话返回这个文件的相关信息，读取不成功的话返回undefined
同步 fs.statSync(path)
    有返回值
</code></pre><h3 id="操作文件夹"><a href="#操作文件夹" class="headerlink" title="操作文件夹"></a>操作文件夹</h3><h5 id="创建文件夹"><a href="#创建文件夹" class="headerlink" title="创建文件夹"></a>创建文件夹</h5><pre><code>异步 fs.mkdir(path,callBack)
    path            文件路径
    callBack        回调函数
        参数（err）    
            null     创建成功
            对象        创建失败，对象里放的是错误信息    
同步 fs.mkdirSync(path)
    无返回值
</code></pre><h5 id="删除文件夹"><a href="#删除文件夹" class="headerlink" title="删除文件夹"></a>删除文件夹</h5><pre><code>异步 fs.rmdir(path,claaBack)
    path            文件路径
    callBack        回调函数
        参数（err）    
            null     删除成功
            对象        删除失败，对象里放的是错误信息   
同步 fs.rmdirSync(path)
    无返回值
</code></pre><h5 id="读取文件夹"><a href="#读取文件夹" class="headerlink" title="读取文件夹"></a>读取文件夹</h5><pre><code>异步 fs.readdir(path.callBack)
    path            文件路径
    callBack        回调函数
        参数（err）    
            null    读取成功
            对象       读取失败，对象里放的是错误信息   
        参数（files）    
             数组        当前文件夹里的所有文件，如果读取失败的话它的值是undefind
同步 fs.readdirSync(path)
    有返回值
</code></pre><hr>
<h2 id="http模块"><a href="#http模块" class="headerlink" title="http模块"></a>http模块</h2><p>用户输入网址敲回车后所做的事情</p>
<ol>
<li>客户端向服务器发送一个http请求</li>
<li>服务器接收到请求后，对请求进行处理</li>
<li>服务器处理完以后，把数据返回到客户端</li>
<li>客户端接收到数据后进行处理<br><strong>nodejs里通过http模块可以搭建一个服务器用来处理客户端的各种请求</strong><h5 id="1-引入http模块"><a href="#1-引入http模块" class="headerlink" title="1.引入http模块"></a>1.引入http模块</h5><code>var http=require(&quot;http&quot;);</code><h5 id="2-创建服务器对象"><a href="#2-创建服务器对象" class="headerlink" title="2.创建服务器对象"></a>2.创建服务器对象</h5> http.createServer(callBack);<pre><code>callback 触发请求事件（客户端有请求了，就会触发这个事件）
    参数（req）        客户端请求的一些信息
    参数（res）        服务端向客户端返回的响应信息
        参数(res)
        res.write()     给客户端写入东西
        res.end()       停止响应,**必须要加到最后**
        res.writeHead(statusCode,reasonPhrase,headers)  设置返回的头信息
            statusCode      状态码
            reasonPhrase    状态码对应的描述文字
            headers         返回头信息
</code></pre><code>var server=http.createServer(function(req,res){</code><br><code>console.log(req,res);</code><br> <code>res.writeHead(200,&quot;okokok&quot;,{</code><br> <code>&quot;content-type&quot;:&quot;text/html&quot;</code><br> <code>});</code><br> <code>res.write(&quot;&lt;h1&gt;Kaivon&lt;/h1&gt;&quot;);</code><br> <code>res.end();</code><br><code>});</code></li>
</ol>
<h5 id="3-监听网络"><a href="#3-监听网络" class="headerlink" title="3.监听网络"></a>3.监听网络</h5><pre><code>server.listen(port,hostname,backlog,callback)
    port        端口
    hostname    主机名(IP地址)
    backlog     允许请求的数量
    callback    监听成功后的回调函数
</code></pre><p><code>server.listen(8080,&quot;localhost&quot;);  //这里的server是上面声明的服务器对象</code></p>
<h2 id="url模块"><a href="#url模块" class="headerlink" title="url模块"></a>url模块</h2><pre><code>url.parse(href)  把地址解析成一个对象
</code></pre><h2 id="querystring模块"><a href="#querystring模块" class="headerlink" title="querystring模块"></a>querystring模块</h2><pre><code>解析url里的query数据  url.parse(req.url).query为username=kaivon&amp;password=123
querystring.stringfy(obj,sep,eq)    把对象转成字符串
    obj 对象
    sep 转成字符串后多个值间的连接符（默认为&amp;）
    eq  key与value间的连接符（默认为=）
querystring.parse(str,sep,eq)       把字符串转成对象
</code></pre><p><strong>post发送过来的数据是放在缓存区里的，需要通过request的data事件和end事件来进行数据拼接处理</strong></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2016/12/19/my-first-article/" data-id="cjf820k9a000c50usqdjje0po" class="article-share-link">Delen</a>
      
      
    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2017/02/17/React/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Nieuwer</strong>
      <div class="article-nav-title">
        
          React
        
      </div>
    </a>
  
  
    <a href="/2016/12/19/hello-world/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Ouder</strong>
      <div class="article-nav-title">Hello World</div>
    </a>
  
</nav>

  
</article>

</section>
        
          <aside id="sidebar">
  
    

  
    

  
    
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archieven</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/03/">March 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/03/">March 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/02/">February 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/12/">December 2016</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recente berichten</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2018/03/26/I-m-back/">I&#39;m back</a>
          </li>
        
          <li>
            <a href="/2017/03/06/rem/">rem</a>
          </li>
        
          <li>
            <a href="/2017/02/28/compare-Array/">compare Array</a>
          </li>
        
          <li>
            <a href="/2017/02/26/bootstrap/">bootstrap</a>
          </li>
        
          <li>
            <a href="/2017/02/25/git-github/">git github</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2018 Cute WQ<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>

  </div>
</body>
</html>